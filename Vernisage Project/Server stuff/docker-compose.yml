version: '3'
services:
  dwd-exporter:
    build: "./"
    ports:
            - "9110:9110"
    restart: unless-stopped
    networks:
            - monitoring

  prometheus:
    image: prom/prometheus
    ports:
      - 9090:9090
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
    networks:
      - monitoring


  grafana:
     image: grafana/grafana
     ports:
       - 3000:3000
     environment:
       - GF_SECURITY_ADMIN_USER=friedfisch      
       - GF_SECURITY_ADMIN_PASSWORD=Alter007
     networks:
       - monitoring

networks:
  monitoring:
    driver: bridge
    external: true

